@use "../../global/variable" as *;
@use "../../global/mixin" as *;

.p-visual {
   height: calc(100vh - 78px);
   width: 100%;
   position: relative;
   &__swiper {
      width: 100%;
      height: 100%;
      padding-left: 8rem;
      padding-bottom: 2.4rem;
      @include sp {
         padding-left: 2rem;
         padding-bottom: 2rem;
      }
   }
   &__img {
      width: 100%;
      height: 100%;
   }
   &__title-wrapper {
      position: absolute;
      left: 1.6rem;
      bottom: 1rem;
      z-index: 1;
   }
   &__title {
      font-size: 5.6rem;
      font-size: min(5.6vw, 6rem);
      font-weight: 500;
      color: var(--color-text);
      background-color: var(--color-wht);
      display: inline;
      -webkit-box-decoration-break: clone;
      box-decoration-break: clone;
      border-radius: 0.4rem;
      padding: 1.2rem;
      @include sp {
         font-size: 3.2rem;
      }
   }
   &__title span {
      color: var(--color-pri);
   }
   &__slide {
      overflow: hidden;
   }
   &__img {
      transform: scale(1);
      transition: transform 8.5s linear;
   }
   &__slide.swiper-slide-active .p-visual__img {
      transform: scale(1.2);
   }
   &__pagination.swiper-pagination {
      position: absolute;
      display: flex;
      flex-direction: column;
      gap: 8px;
      position: absolute;
      inset: auto;
      left: 0;
      top: calc(50% - (198px / 2));
      transform: translateY(-50%);
      width: 8rem;
      @include sp {
         display: none;
      }
   }
   &__pagination .swiper-pagination-bullet {
      display: block;
      width: 2px;
      height: 6rem;
      background: #ddd;
      border-radius: 3px;
      overflow: hidden;
      cursor: pointer;
      position: relative;
      margin-left: calc(4rem - 1px) !important;
   }
   &__pagination .swiper-pagination-bullet .p-visual__bar {
      display: block;
      width: 100%;
      height: 0%;
      background-color: var(--color-pri);
      position: absolute;
      top: 0;
      left: 0;
      transition: 7.5s;
      transform: scaleY(0);
      transform-origin: top;
   }
   &__pagination .swiper-pagination-bullet .p-visual__bar.is-animating {
      animation: bar-scale 7.5s linear 0s infinite alternate forwards;
   }
   &__pagination .swiper-pagination-bullet-active .p-visual__bar {
      height: 100%;
   }
}

@keyframes slide-zoom {
   0% {
      transform: scale(1);
   }
   100% {
      transform: scale(1.2);
   }
}

@keyframes bar-scale {
   0% {
      transform: scaleY(0);
   }
   100% {
      transform: scaleY(1);
   }
}